# Matplotlib Animation Lab

## Introduction

Matplotlib is a data visualization library used to create static, animated, and interactive visualizations in Python. In this lab, we will learn how to create an animated plot using Matplotlib. We will use the `FuncAnimation` class to create an animation of a decaying sine wave.

## Steps

### Step 1: Import libraries

First, we need to import the necessary libraries. We will be using Matplotlib and NumPy in this lab.

```python
import itertools

import matplotlib.pyplot as plt
import numpy as np

import matplotlib.animation as animation
```

### Step 2: Create the data generator function

Next, we need to create a function to generate the data for the animation. The function will produce a sine wave that decays over time. We will use the `itertools.count()` function to generate an infinite sequence of numbers. We will use these numbers to calculate the values of the sine wave.

```python
def data_gen():
    for cnt in itertools.count():
        t = cnt / 10
        yield t, np.sin(2*np.pi*t) * np.exp(-t/10.)
```

### Step 3: Set up the plot

Now, we need to set up the plot. We will create a figure and an axes object using Matplotlib's `subplots()` function. We will also create a line object to represent the sine wave.

```python
fig, ax = plt.subplots()
line, = ax.plot([], [], lw=2)
ax.grid()
xdata, ydata = [], []
```

### Step 4: Define the initialization function

We need to define an initialization function that will set the initial state of the plot. In this function, we will set the y-axis limits and clear the data from the line object.

```python
def init():
    ax.set_ylim(-1.1, 1.1)
    ax.set_xlim(0, 1)
    del xdata[:]
    del ydata[:]
    line.set_data(xdata, ydata)
    return line,
```

### Step 5: Define the animation function

Now, we need to define the function that will update the plot for each frame of the animation. This function will take the data generated by the `data_gen()` function and update the plot with the new data. We will also update the x-axis limits as the animation progresses.

```python
def run(data):
    # update the data
    t, y = data
    xdata.append(t)
    ydata.append(y)
    xmin, xmax = ax.get_xlim()

    if t >= xmax:
        ax.set_xlim(xmin, 2*xmax)
        ax.figure.canvas.draw()
    line.set_data(xdata, ydata)

    return line,
```

### Step 6: Create the animation

Finally, we can create the animation using the `FuncAnimation` class. We will pass the `fig`, `run`, `data_gen`, `init_func`, and `interval` parameters to create the animation. We will also set the `save_count` parameter to 100 to ensure that only the last 100 frames are saved.

```python
ani = animation.FuncAnimation(fig, run, data_gen, interval=100, init_func=init,
                              save_count=100)
```

### Step 7: Show the plot

We can now show the plot using Matplotlib's `show()` function.

```python
plt.show()
```

## Summary

In this lab, we learned how to create an animated plot using Matplotlib. We used the `FuncAnimation` class to create an animation of a decaying sine wave. We also learned how to set up a plot, define a data generator function, define an initialization function, define an animation function, and create the animation.
