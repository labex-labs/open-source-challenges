# 关联函数

在 `impl` 块中定义的所有函数都被称为**关联函数**，因为它们与 `impl` 后面命名的类型相关联。我们可以定义没有 `self` 作为第一个参数（因此不是方法）的关联函数，因为它们不需要类型的实例来操作。我们已经使用过这样一个函数：在 `String` 类型上定义的 `String::from` 函数。

不是方法的关联函数通常用于构造函数，这些构造函数将返回结构体的一个新实例。这些函数通常被称为 `new`，但 `new` 不是一个特殊的名称，也不是语言内置的。例如，我们可以选择提供一个名为 `square` 的关联函数，它将有一个维度参数，并将其用作宽度和高度，这样创建一个正方形的 `Rectangle` 就更容易了，而不必重复指定相同的值两次：

文件名：`src/main.rs`

```rust
impl Rectangle {
    fn square(size: u32) -> Self {
        Self {
            width: size,
            height: size,
        }
    }
}
```

返回类型\[1\]和函数体\[2\]中的 `Self` 关键字是 `impl` 关键字后面出现的类型的别名，在这种情况下是 `Rectangle`。

要调用这个关联函数，我们使用结构体名称加上 `::` 语法；例如 `let sq = Rectangle::square(3);`。这个函数是由结构体命名空间限定的：`::` 语法既用于关联函数，也用于模块创建的命名空间。我们将在第 7 章讨论模块。
