# Rust 程序剖析

让我们详细回顾一下这个“你好，世界！”程序。这是谜题的第一部分：

```rust
fn main() {

}
```

这几行代码定义了一个名为 `main` 的函数。`main` 函数很特殊：它总是每个可执行 Rust 程序中运行的第一段代码。在这里，第一行声明了一个名为 `main` 的函数，该函数没有参数且不返回任何值。如果有参数，它们会放在括号 `()` 内。

函数体用 `{}` 括起来。Rust 要求所有函数体都用花括号括起来。将左花括号与函数声明放在同一行，并在它们之间添加一个空格，这是一种良好的风格。

> 注意：如果你想在所有 Rust 项目中保持标准风格，可以使用一个名为 `rustfmt` 的自动格式化工具，以特定风格格式化你的代码（附录 D 中会详细介绍 `rustfmt`）。Rust 团队已将此工具包含在标准 Rust 发行版中，就像 `rustc` 一样，所以它应该已经安装在你的计算机上了！

`main` 函数体包含以下代码：

```rust
    println!("你好，世界！");
```

这一行完成了这个小程序的所有工作：它将文本打印到屏幕上。这里有四个重要的细节需要注意。

首先，Rust 的风格是使用四个空格进行缩进，而不是制表符。

其次，`println!` 调用了一个 Rust 宏。如果它调用的是一个函数，那么应该写成 `println`（不带 `!`）。我们将在第 19 章更详细地讨论 Rust 宏。目前，你只需要知道使用 `!` 意味着你调用的是一个宏而不是一个普通函数，并且宏并不总是遵循与函数相同的规则。

第三，你看到了字符串“你好，世界！”。我们将这个字符串作为参数传递给 `println!`，然后该字符串会被打印到屏幕上。

第四，我们在这一行的末尾加上了分号（`;`），这表示这个表达式结束了，下一个表达式准备开始。大多数 Rust 代码行都以分号结尾。
