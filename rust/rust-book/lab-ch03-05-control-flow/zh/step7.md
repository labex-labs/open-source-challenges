# 从循环中返回值

`loop` 的用途之一是重试你知道可能会失败的操作，比如检查一个线程是否完成了它的任务。你可能还需要将该操作的结果从循环传递到代码的其余部分。要做到这一点，你可以在用于停止循环的 `break` 表达式之后添加你想要返回的值；该值将从循环中返回，这样你就可以使用它了，如下所示：

```rust
fn main() {
    let mut counter = 0;

    let result = loop {
        counter += 1;

        if counter == 10 {
            break counter * 2;
        }
    };

    println!("结果是 {result}");
}
```

在循环之前，我们声明一个名为 `counter` 的变量，并将其初始化为 `0`。然后我们声明一个名为 `result` 的变量来保存从循环中返回的值。在循环的每次迭代中，我们将 `counter` 变量加 `1`，然后检查 `counter` 是否等于 `10`。当等于 `10` 时，我们使用带有值 `counter * 2` 的 `break` 关键字。在循环之后，我们使用分号来结束将值赋给 `result` 的语句。最后，我们打印 `result` 中的值，在这种情况下是 `20`。
