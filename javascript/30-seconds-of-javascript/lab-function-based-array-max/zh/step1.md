# 如何基于函数找到数组中的最大值

要基于函数找到数组中的最大值，请按以下步骤操作：

1. 打开终端/SSH 并输入 `node` 开始练习编码。
2. 使用 `Array.prototype.map()` 将数组的每个元素映射到提供的函数 `fn` 返回的值。
3. 使用 `Math.max()` 获取映射后数组的最大值。

以下是实现上述步骤的示例代码片段：

```js
const maxBy = (arr, fn) =>
  Math.max(...arr.map(typeof fn === "function" ? fn : (val) => val[fn]));
```

要使用 `maxBy` 函数，请传入一个数组以及用于将每个元素映射到一个值的函数。你可以直接传入一个函数，也可以传入一个字符串，表示应在数组的每个对象中用于访问值的键。

以下是对 `maxBy` 函数的一些示例调用：

```js
maxBy([{ n: 4 }, { n: 2 }, { n: 8 }, { n: 6 }], (x) => x.n); // 返回 8
maxBy([{ n: 4 }, { n: 2 }, { n: 8 }, { n: 6 }], "n"); // 返回 8
```
