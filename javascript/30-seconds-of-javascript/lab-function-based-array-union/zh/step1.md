# 如何基于一个函数找到两个数组的并集

要使用 Node.js 基于一个函数找到两个数组的并集，请执行以下步骤：

1. 打开终端/SSH 并输入 `node`。
2. 使用以下代码创建一个 `Set`，其中包含 `a` 的所有值以及 `b` 中那些比较器在 `a` 中找不到匹配项的值，使用 `Array.prototype.findIndex()`：

```js
const unionWith = (a, b, comp) =>
  Array.from(
    new Set([...a, ...b.filter((x) => a.findIndex((y) => comp(x, y)) === -1)])
  );
```

3. 使用三个参数调用 `unionWith` 函数：第一个数组、第二个数组和比较器函数。
4. 该函数使用提供的比较器函数返回至少在两个数组中的任何一个中出现过一次的每个元素。
5. 以下是调用 `unionWith` 函数的示例：

```js
unionWith(
  [1, 1.2, 1.5, 3, 0],
  [1.9, 3, 0, 3.9],
  (a, b) => Math.round(a) === Math.round(b)
);
// [1, 1.2, 1.5, 3, 0, 3.9]
```

这将返回 `[1, 1.2, 1.5, 3, 0, 3.9]` 作为两个数组的并集。
